<div class="container mt-5">
  <h2 class="h2 mb-4">   Aksje: Single Page Application (SPA) </h2>
  <div>
    <div class="col-md-12" *ngIf="visListe">
      <div *ngIf="laster">Laster aksjer.....</div>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Fornavn</th>
            <th>Etternavn</th>
            <th>Aksje</th>
            <th>Pris</th>
            <th>Antall</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody *ngFor="let aksje of alleAksjer">
          <tr>
            <td>{{aksje.fornavn}}</td>
            <td>{{aksje.etternavn}}</td>
            <td>{{aksje.aksjenavn}}</td>
            <td>{{aksje.pris}}</td>
            <td>{{aksje.antall}}</td>
            <td><button class="btn btn-success" (click)="endreAksje(aksje.id)">Endre</button></td>
            <td><button class="btn btn-danger" (click)="sletteAksje(aksje.id)">Slett</button></td>
          </tr>
        </tbody>
      </table>
      <button class='btn btn-primary' (click)='registrerAksje()'>Kjøp aksje</button>
    </div>
  </div>
</div>

<div class="container">
  <div class="col-md-4" *ngIf="!visListe">
    <form [formGroup]="skjema" (ngSubmit)="vedSubmit()">
      <input class="form-control" formControlName="id" type="hidden" />
      <div class="form-group">
        <label>Fornavn</label>
        <input class="form-control" formControlName="fornavn" />
        <p class="alert alert-warning" [hidden]="skjema.controls.fornavn.valid || (skjema.controls.fornavn.pristine && !submitted)">
          Fornavn er obligatorisk.
        </p>
      </div>
      <div class="form-group">
        <label>Etternavn</label>
        <input class="form-control" formControlName="etternavn" />
        <p class="alert alert-warning" [hidden]="skjema.controls.etternavn.valid || (skjema.controls.etternavn.pristine && !submitted)">
          Etternavn er obligatorisk.
        </p>
      </div>
      <div class="form-group">
        <label>Aksje</label>
        <input class="form-control" formControlName="aksjenavn" />
        <p class="alert alert-warning" [hidden]="skjema.controls.aksjenavn.valid || (skjema.controls.aksjenavn.pristine && !submitted)">
          Aksje er obligatorisk.
        </p>
      </div>
      <div class="form-group">
        <label>Pris</label>
        <input class="form-control" formControlName="pris" />
        <p class="alert alert-warning" [hidden]="skjema.controls.pris.valid || (skjema.controls.pris.pristine && !submitted)">
          Pris er obligatorisk (Et tall)
        </p>
      </div>
      <div class="form-group">
        <label>Antall</label>
        <input class="form-control" formControlName="antall" />
        <p class="alert alert-warning" [hidden]="skjema.controls.antall.valid || (skjema.controls.antall.pristine && !submitted)">
          Antall er obligatorisk.
        </p>
      </div>
      <div class="form-group">
        <button type="submit" *ngIf="visSkjemaRegistrere" [disabled]="!skjema.valid" class="btn btn-primary">Kjøp</button>
        <button type="submit" *ngIf="!visSkjemaRegistrere" [disabled]="!skjema.valid" class="btn btn-primary">Endre</button>
        <button class="btn btn-default" (click)="tilbakeTilListe()">Tilbake</button>
      </div>
    </form>
  </div>
</div>

